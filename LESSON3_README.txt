Прилагаемый код (ControlController.php) взят из проекта для личных нужд - попытка быстро (ключевой фактор) сделать контроллер с управлением через WEB-интерфейс (Raspberry PI, Ubuntu, PHP, JS, радиодетали + паяльник). Работает). 


-----------------------------------
Антипаттерны в проекте
-----------------------------------


- Большой комок грязи (Big ball of mud) <- архитектура изначально была плохо продумана (quick and dirty со всеми вытекающими последствиями)
- Изобретение квадратного колеса (Reinventing the square wheel) <- для профессионального решения подобных задач на рынке доступны готовые решения (например, soft-PLC). Использование примененных технологий можно оправдать только образовательными целями (что, фактически, и имеет место быть).
- Слепая вера (Blind Faith) <- работоспособность отдельных частей кода проверялась уже в ходе эксплуатации, а не в ходе разработки
- Магические числа (Magic Numbers) <- используются числовые константы без объяснения их смысла (пример - строки 140, 147, 154 и т.п. файла ControlController.php. В реальности это имена звуковых файлов без расширения)
- Жёсткое кодирование (Hard Code) <- hard coded параметры логики (пример - строки 141, 148 - жестко заданные параметры в rand()), жестко заданные имена исполняемых файлов "sudo /home/www-data/...." и т.п.) 
- Божественный объект (God Object) <- большая часть функционала реализована через класс ControlController (файл ControlController.php)
- Программирование методом копирования и вставки (Copy-Paste programming) <- нарушен принцип DRY (пример - строки 142-146 и 148-153 файла ControlController.php)
- Членовредительство (Mutilation) <- следствие God Object. Функционал класса ControlController целесообразно разнести по нескольким отдельным классам, например, вынести в отдельный класс задачу отключения (shutdown) устройства (строки 121 - 124 файла ControlController.php).






  